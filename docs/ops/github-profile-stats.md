# GitHub profile stats automation

## Overview

The SVGs shown in the profile README under "My GitHub Activity" are generated by a Python script and updated by a scheduled (or manual) GitHub Actions workflow.

- **Artifacts**: `images/mohamed-rekiba-github-stats.svg`, `images/mohamed-rekiba-github-wrapped-stats.svg`
- **Script**: `scripts/generate_github_profile_stats.py`
- **Workflow**: `.github/workflows/github-profile-stats.yaml`

## How it works

1. The workflow runs weekly (Sunday 3:00 UTC) or on manual `workflow_dispatch`.
2. It installs dependencies from `requirements.txt`, then runs the generator with `GITHUB_TOKEN`.
3. The script fetches contribution and language data from the GitHub API, optionally merges `stats/config.yaml`, and writes both SVGs to `images/`.
4. If either SVG changed, the workflow commits and pushes the updates.

## Running locally

```bash
# From repo root; token from env for API data
export GITHUB_TOKEN=ghp_...   # or GH_TOKEN
pip install -r requirements.txt
PYTHONPATH=scripts python3 scripts/generate_github_profile_stats.py --output-dir images

# With optional config overrides
PYTHONPATH=scripts python3 scripts/generate_github_profile_stats.py \
  --config stats/config.yaml --output-dir images
```

Without a token, the script still runs and produces SVGs using zeros and defaults (and any values from config).

## Configuration

Optional `stats/config.yaml` (see `stats/config.yaml.example`) can override:

- `universal_rank`, `power_level`, `longest_streak_days`, `most_active_month`, `most_active_day`, `top_language`
- `past_year_contributions`, `total_contributions`

Config is merged with API data; config values take precedence.

## Rollback

If a run produces bad SVGs:

1. Revert the auto-commit on `main` (or your default branch).
2. Fix config or script and re-run the workflow or merge a fix.

## Security

- Token is only read from the environment; never logged or written to disk.
- Generated SVG content is escaped to prevent injection (no script or event handlers from config/API data).
